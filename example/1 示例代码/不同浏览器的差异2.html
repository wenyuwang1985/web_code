<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Compatibility Example</title>
  <style>
    .box {
      width: 400px;
      height: 460px;
      background-color: red;
      color: white;
      text-align: center;
      font-family: Arial, sans-serif;
    }
    .title{
      font-size:24px;
    }
    .con{
      text-align: left;
      padding:10px;
    }

    @keyframes rotate {
      from { transform: rotate(0); }
      to { transform: rotate(360deg); }
    }

    .animation {
      animation: rotate 2s linear infinite;
    }
  </style>
</head>
<body>
  <div class="box">
    <h1 class="title">Compatibility Test</h1>
    <p class="con">
      1.屏幕尺寸和分辨率差异：通过获取window.innerWidth和window.innerHeight或document.documentElement.clientWidth和document.documentElement.clientHeight，可以获取到当前浏览器窗口的尺寸，以便根据不同尺寸做出相应的布局调整。<br>
  2.触摸事件和手势支持：通过检测ontouchstart事件是否在window对象上存在，或者检测navigator.msMaxTouchPoints是否大于0，可以判断当前浏览器是否支持触摸事件和手势。<br>
  3.CSS3和动画效果的兼容性：通过检测document.body.style.animation属性是否定义，可以判断当前浏览器是否支持CSS3动画。<br>
  4.Flexbox布局的兼容性：通过检测flexBasis、webkitFlexBasis和msFlexBasis属性是否存在于document.documentElement.style对象中，可以判断当前浏览器是否支持Flexbox布局。<br>
  5.字体渲染差异：通过判断用户代理字符串中是否包含"Firefox"，可以识别当前浏览器是否为Firefox浏览器，从而判断是否存在字体渲染差异。<br>
    </p>
  </div>
  

  <script>
    // 屏幕尺寸和分辨率差异
    var screenWidth = window.innerWidth || document.documentElement.clientWidth;
    var screenHeight = window.innerHeight || document.documentElement.clientHeight;
    console.log('Screen size: ' + screenWidth + ' x ' + screenHeight);

    // 触摸事件和手势支持
    var touchSupport = ('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0);
    console.log('Touch support: ' + (touchSupport ? 'Present' : 'Not present'));

    // CSS3和动画效果的兼容性
    var animationSupport = (typeof document.body.style.animation !== 'undefined');
    console.log('Animation support: ' + (animationSupport ? 'Present' : 'Not present'));

    // Flexbox布局的兼容性
    var flexboxSupport = ('flexBasis' in document.documentElement.style) ||
                         ('webkitFlexBasis' in document.documentElement.style) ||
                         ('msFlexBasis' in document.documentElement.style);
    console.log('Flexbox support: ' + (flexboxSupport ? 'Present' : 'Not present'));

    // 字体渲染差异
    var isFontRenderingDifferent = (navigator.userAgent.indexOf('Firefox') > -1);
    console.log('Font rendering differences: ' + (isFontRenderingDifferent ? 'Present' : 'Not present'));
  </script>
</body>
</html>
